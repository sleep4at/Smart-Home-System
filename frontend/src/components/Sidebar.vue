<template>
  <aside class="sidebar" :class="{ collapsed }">
    <div class="sidebar-header">
      <div class="sidebar-logo" v-if="!collapsed">æ™ºèƒ½å®¶å±…</div>
      <button class="sidebar-toggle" @click="$emit('toggle')">
        <span v-if="collapsed">â€º</span>
        <span v-else>â€¹</span>
      </button>
    </div>
    <nav class="sidebar-nav">
      <RouterLink
        v-for="item in items"
        :key="item.route"
        :to="{ name: item.route }"
        class="sidebar-item"
        :class="[
          $route.name === item.route ? 'active' : 'inactive',
        ]"
      >
        <span class="icon">{{ item.icon }}</span>
        <span class="sidebar-label">{{ item.label }}</span>
      </RouterLink>
    </nav>
  </aside>
</template>

<script setup lang="ts">
import { RouterLink, useRoute } from "vue-router";

defineProps<{
  collapsed: boolean;
}>();

defineEmits<{
  (e: "toggle"): void;
}>();

const route = useRoute();

const items = [
  { route: "home", label: "ä¸»é¡µ", icon: "âŒ‚" },
  { route: "history", label: "å†å²ä¿¡æ¯", icon: "ğŸ“ˆ" },
  { route: "debug", label: "è°ƒè¯•ä¿¡æ¯", icon: "ğŸ–¥" }
];
</script>

